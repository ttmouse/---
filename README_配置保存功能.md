# 小蜜蜂游戏 - 配置保存功能使用说明

## 功能概述

测试页面现在支持直接保存参数调整到源代码文件，无需手动复制配置。

## 使用步骤

### 1. 启动配置服务器

在游戏目录中打开终端，运行以下命令：

```bash
# 安装依赖（首次使用）
npm install

# 启动配置更新服务器
node server.js
```

服务器启动后会显示：
```
配置更新服务器运行在 http://localhost:3001
现在可以在测试页面中使用"保存到文件"功能了！
```

### 2. 打开测试页面

在浏览器中打开 `test.html` 文件。

### 3. 调整参数

- 点击各个元素下方的"调整参数"按钮
- 使用滑块和颜色选择器调整参数
- 实时查看效果变化

### 4. 保存配置

调整完成后，点击页面顶部的"保存到文件"按钮：
- 系统会自动将调整后的参数保存到对应的源文件
- 成功后会显示"配置已成功保存到源文件！"提示

## 支持的配置项

### 敌机配置 (enemy.js)
- 宽度和高度
- 血量
- 移动速度
- 颜色

### 子弹配置 (bullet.js)
- 宽度和高度
- 颜色和发光颜色
- 移动速度

### 道具配置
- 尺寸
- 颜色
- 移动速度

## 其他功能

- **导出配置**：将当前配置导出为JSON文件
- **重置所有**：恢复到初始状态
- **开始/停止动画**：查看动态效果

## 注意事项

1. 保存功能需要配置服务器运行
2. 确保服务器运行在端口3001
3. 保存前建议备份原始文件
4. 修改会直接影响游戏源代码

## 故障排除

### 保存失败
- 检查服务器是否正在运行
- 确认端口3001未被占用
- 查看浏览器控制台错误信息

### 服务器启动失败
- 确认已安装Node.js
- 运行 `npm install` 安装依赖
- 检查端口是否被占用

## 技术实现

- 前端：HTML + JavaScript
- 后端：Node.js + Express
- 通信：RESTful API
- 文件操作：fs模块正则表达式替换